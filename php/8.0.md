# PHP 8.0 – Feature Checklist

Released: November 26, 2020

## ✅ Unchanged
- Backward compatible with most 7.4 features

## ✨ New Features

### 1. Union Types
```php
function foo(int|string $value) {}
```

2. Named Arguments

htmlspecialchars($string, double_encode: false);

3. Attributes (Annotations)
```php
php 7
class PostsController
{
    /**
     * @Route("/api/posts/{id}", methods={"GET"})
     */
    public function get($id) { /* ... */ }
}

php 8.0
class PostsController
{
    #[Route("/api/posts/{id}", methods: ["GET"])]
    public function get($id) { /* ... */ }
}
```

4. Match Expression
```php
$status = match($code) {
    200 => 'OK',
    404 => 'Not Found',
};
```

5. Constructor Property Promotion
```php
php 7
class Point {
  public float $x;
  public float $y;
  public float $z;

  public function __construct(
    float $x = 0.0,
    float $y = 0.0,
    float $z = 0.0
  ) {
    $this->x = $x;
    $this->y = $y;
    $this->z = $z;
  }
}

php 8
class User {
    public function __construct(
        public string $name,
        public int $age
    ) {}
}
```

6. Match expression
```php
php 7
switch (8.0) {
  case '8.0':
    $result = "Oh no!";
    break;
  case 8.0:
    $result = "This is what I expected";
    break;
}
echo $result;
//> Oh no!

php 8
echo match (8.0) {
  '8.0' => "Oh no!",
  8.0 => "This is what I expected",
};
```

7. Nullsafe operator
```php
php 7
$country =  null;

if ($session !== null) {
  $user = $session->user;

  if ($user !== null) {
    $address = $user->getAddress();
  
    if ($address !== null) {
      $country = $address->country;
    }
  }
}

php 8
$country = $session?->user?->getAddress()?->country;
```

⚠️ Changed / Deprecated

1. create_function() removed

2. Resource to Object for finfo, curl

3. @ operator changes (error suppression more strict)