# PHP 8.4 – Feature Checklist

Released: November 24, 2024

## ✅ Unchanged
- All PHP 8.3 features

## ✨ New Features

### 1. #[\Deprecated] Attribute
```php
php < 8.4
/**
 * @deprecated 8.3 use PhpVersion::getVersion() instead
 */

php 8.4
#[\Deprecated(
    message: "use PhpVersion::getVersion() instead",
    since: "8.4",
)]
```

### 2. New array_*() functions
```php
php < 8.4
$animal = null;
foreach (['dog', 'cat', 'cow', 'duck', 'goose'] as $value) {
    if (str_starts_with($value, 'c')) {
        $animal = $value;
        break;
    }
}

php 8.4
$animal = array_find(
    ['dog', 'cat', 'cow', 'duck', 'goose'],
    static fn (string $value): bool => str_starts_with($value, 'c'),
);
```

### 3. new MyClass()->method() without parentheses ()
```php
php < 8.4
class PhpVersion
{
    public function getVersion(): string
    {
        return 'PHP 8.3';
    }
}
var_dump((new PhpVersion())->getVersion());


php 8.4
class PhpVersion
{
    public function getVersion(): string
    {
        return 'PHP 8.4';
    }
}
var_dump(new PhpVersion()->getVersion());
```

### 4. Lazy Objects
```php
use LazyObject\LazyObject;

class HeavyObject {
    public function __construct() {
        echo "Khởi tạo đối tượng nặng...\n";
        sleep(3); // Giả lập khởi tạo lâu
    }

    public function doSomething() {
        echo "Thực hiện công việc...\n";
    }
}

// Tạo một Lazy Object
$lazyObject = LazyObject::createLazy(HeavyObject::class);

// Không khởi tạo đối tượng cho đến khi cần thiết
$lazyObject->doSomething(); // Lúc này đối tượng mới thực sự được khởi tạo
```

### 5. New JIT(Just-In-Time) implementation based on IR Framework.

⚠️ Changed / Deprecated

1. Using _ as a class name is now deprecated.
2. mysqli_ping(), mysqli_kill(), mysqli_refresh() functions, mysqli::ping(), mysqli::kill(), mysqli::refresh() methods, and MYSQLI_REFRESH_* constants have been deprecated.